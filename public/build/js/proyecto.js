!function(){const e=document.querySelector(".nombre-pagina");function o(){const e=new URLSearchParams(window.location.search);return Object.fromEntries(e.entries()).url}e.addEventListener("click",()=>{!function(t=""){const n=document.createElement("DIV");n.classList.add("modal"),n.innerHTML=`\n            <form class="formulario">\n                <legend>Editar Proyecto</legend>\n                <div class="campo">\n                    <label for="proyecto">Nombre del Proyecto</label>\n                    <input type="text" value="${t||""}" name="proyecto" placeholder="Editar el nombre del Proyecto" id="proyecto"/>\n                </div>\n\n                <div class="opciones">\n                    <input type="submit" class="submit-proyecto" value="Guardar Cambios"/>\n                    <button type="button" class="cerrar-modal">Cancelar</button>\n                </div>\n            </form>\n        `,setTimeout(()=>{document.querySelector(".formulario").classList.add("animar")},0),n.addEventListener("click",r=>{if(r.preventDefault(),r.target.classList.contains("cerrar-modal")){document.querySelector(".formulario").classList.add("cerrar"),setTimeout(()=>{n.remove()},1e3)}if(r.target.classList.contains("submit-proyecto")){const n=document.querySelector("#proyecto").value.trim();if(""===n)return void mostrarAlerta("Debes ingresar un nombre al proyecto","error",document.querySelector(".formulario legend"));(async function(t){const n=new FormData;n.append("proyecto",t),n.append("url",o());try{const o=window.location.origin+"/api/proyecto/actualizar",r=await fetch(o,{method:"POST",body:n}),a=await r.json();if("exito"===a.tipo){Swal.fire("Actualizado",a.mensaje,"success"),e.textContent=t;const o=document.querySelector(".modal");o&&o.remove()}}catch(e){console.log(e)}})(t=n)}}),document.querySelector(".dashboard").appendChild(n)}(e.textContent)}),e.style.cursor="pointer";document.querySelector("#eliminar-proyecto").addEventListener("click",()=>{var e;e=o(),Swal.fire({title:"¿Desea eliminar el Proyecto?",text:"Se eliminarán las tareas asociadas a él",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si",cancelButtonText:"No"}).then(o=>{o.isConfirmed&&async function(e){const o=new FormData;o.append("url",e);try{const e=window.location.origin+"/api/proyecto/eliminar",t=await fetch(e,{method:"POST",body:o});"exito"===(await t.json()).tipo&&(window.location.href="/proyectos")}catch(e){console.log(e)}}(e)})})}();